{
  "platform": "indeed",
  "version": "1.1.0",
  "description": "Pre-mapped selectors for Indeed application forms with multi-page support",
  "last_updated": "2025-10-17",
  "form_types": {
    "standard_indeed_apply": {
      "description": "Standard Indeed application form with common fields",
      "url_patterns": [
        "https://www.indeed.com/apply/*",
        "https://ca.indeed.com/apply/*",
        "https://*.indeed.com/m/basecamp/apply*"
      ],
      "fields": {
        "full_name": {
          "selectors": [
            "input[name='applicant.name']",
            "input[id='applicant-name']",
            "input[placeholder*='Full name' i]",
            "input[placeholder*='Your name' i]",
            "#input-applicant\\.name"
          ],
          "type": "text",
          "required": true,
          "validation": "^[A-Za-z\\s'-]+$"
        },
        "email": {
          "selectors": [
            "input[name='applicant.email']",
            "input[id='applicant-email']",
            "input[type='email']",
            "input[placeholder*='Email' i]",
            "#input-applicant\\.email"
          ],
          "type": "email",
          "required": true,
          "validation": "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"
        },
        "phone": {
          "selectors": [
            "input[name='applicant.phoneNumber']",
            "input[id='applicant-phone']",
            "input[type='tel']",
            "input[placeholder*='Phone' i]",
            "#input-applicant\\.phoneNumber"
          ],
          "type": "tel",
          "required": false,
          "validation": "^[0-9\\s()+-]+$"
        },
        "location": {
          "selectors": [
            "input[name='applicant.location']",
            "input[id='applicant-location']",
            "input[placeholder*='Location' i]",
            "input[placeholder*='City' i]"
          ],
          "type": "text",
          "required": false
        },
        "resume": {
          "selectors": [
            "input[type='file'][id*='resume' i]",
            "input[type='file'][name*='resume' i]",
            "input[type='file'][accept*='pdf']",
            "input[type='file'].ia-Resume-file",
            "#resume-upload-input"
          ],
          "type": "file",
          "required": true,
          "accept": [".pdf", ".doc", ".docx"],
          "max_size_mb": 5
        },
        "cover_letter": {
          "selectors": [
            "input[type='file'][id*='cover' i]",
            "input[type='file'][name*='cover' i]",
            "textarea[name*='coverLetter']",
            "textarea[placeholder*='Cover letter' i]",
            "#cover-letter-upload-input"
          ],
          "type": "file_or_text",
          "required": false,
          "accept": [".pdf", ".doc", ".docx"],
          "max_size_mb": 5
        },
        "years_experience": {
          "selectors": [
            "input[name*='experience' i]",
            "select[name*='experience' i]",
            "input[placeholder*='years of experience' i]"
          ],
          "type": "text_or_select",
          "required": false
        },
        "linkedin_url": {
          "selectors": [
            "input[name*='linkedin' i]",
            "input[placeholder*='linkedin' i]",
            "input[type='url'][placeholder*='profile' i]"
          ],
          "type": "url",
          "required": false,
          "validation": "^https?://(www\\.)?linkedin\\.com/.*$"
        },
        "website": {
          "selectors": [
            "input[name*='website' i]",
            "input[name*='portfolio' i]",
            "input[placeholder*='website' i]",
            "input[placeholder*='portfolio' i]"
          ],
          "type": "url",
          "required": false,
          "validation": "^https?://.*$"
        }
      },
      "submit_button": {
        "selectors": [
          "#indeedApplyButton > div",
          "#indeedApplyButton span:has-text('Apply now')",
          "button[type='submit']",
          "button[id*='submit' i]",
          "button[class*='submit' i]",
          "button:has-text('Submit application')",
          "button:has-text('Apply now')",
          "button.ia-continueButton"
        ]
      },
      "confirmation_indicators": {
        "success_messages": [
          "Application submitted",
          "Your application has been sent",
          "Thank you for applying",
          "Application received"
        ],
        "success_selectors": [
          ".ia-BaseCamp-confirmation",
          "[data-testid='application-confirmation']",
          ".confirmation-message"
        ],
        "url_patterns": [
          "**/application-confirmation**",
          "**/thank-you**",
          "**/submitted**"
        ]
      }
    },
    "indeed_quick_apply": {
      "description": "Indeed's one-click Quick Apply (uses saved profile)",
      "url_patterns": [
        "https://*.indeed.com/viewjob*",
        "https://*.indeed.com/m/jobs*"
      ],
      "fields": {
        "quick_apply_button": {
          "selectors": [
            "button[id='indeedApplyButton']",
            "button[data-indeed-apply-button-id]",
            "button:has-text('Apply now')",
            "button.ia-BaseCamp-continue"
          ],
          "type": "button",
          "required": true
        }
      },
      "submit_button": {
        "selectors": [
          "button[type='submit']",
          "button:has-text('Submit your application')",
          "button.ia-continueButton"
        ]
      }
    }
  },
  "detection_strategy": {
    "description": "Strategy to detect which form type is present",
    "priority_order": ["indeed_quick_apply", "standard_indeed_apply"],
    "detection_timeout_ms": 5000
  },
  "multipage_support": {
    "description": "Multi-page form navigation patterns for Indeed applications",
    "version": "1.2.0",
    "last_updated": "2025-10-19",
    "detection": {
      "indicators": [
        "Presence of pagination dots (.pagination-dot, .step-indicator)",
        "Step counter text (e.g., 'Step 2 of 3', 'Page 2/3')",
        "Progress bar with aria-label containing 'of'",
        "Next/Continue button without Submit button"
      ],
      "step_counter_patterns": [
        "Step (\\d+) of (\\d+)",
        "Page (\\d+) of (\\d+)",
        "(\\d+)/(\\d+)",
        "Question (\\d+) of (\\d+)"
      ]
    },
    "navigation_buttons": {
      "next": {
        "description": "Next button for multi-page forms",
        "selectors": [
          "button:has-text('Next')",
          "button:has-text('next')",
          "button[id*='next' i]",
          "button[class*='next' i]",
          "a:has-text('Next')",
          "input[type='submit'][value*='Next' i]",
          "button[aria-label*='next' i]"
        ],
        "wait_after_click_ms": 2000
      },
      "continue": {
        "description": "Continue or Save & Continue button",
        "selectors": [
          "button:has-text('Continue')",
          "button:has-text('continue')",
          "button[id*='continue' i]",
          "button[class*='continue' i]",
          "button.ia-continueButton",
          "button:has-text('Save & Continue')",
          "button:has-text('Save and Continue')",
          "a:has-text('Continue')"
        ],
        "wait_after_click_ms": 2000
      },
      "submit": {
        "description": "Final submission button",
        "selectors": [
          "button:has-text('Submit application')",
          "button:has-text('Submit your application')",
          "button[type='submit']:has-text('Apply')",
          "button:has-text('Apply now')",
          "button.ia-continueButton:has-text('Submit')",
          "input[type='submit'][value*='Submit' i]"
        ],
        "wait_after_click_ms": 3000
      }
    },
    "validation_errors": {
      "description": "Patterns for detecting form validation errors",
      "error_container_selectors": [
        ".error-message",
        ".field-error",
        "[role='alert']",
        ".ia-FieldError",
        ".alert-danger",
        ".form-error",
        "[class*='error' i][class*='message' i]",
        ".validation-error"
      ],
      "field_error_selectors": [
        "input.error",
        "input[aria-invalid='true']",
        "input[class*='error' i]",
        "select.error",
        "textarea.error",
        "input.error + .error-message",
        ".field-error-text"
      ],
      "common_error_messages": {
        "required": ["This field is required", "Required field", "Please fill out this field"],
        "email": ["Invalid email address", "Please enter a valid email"],
        "phone": ["Invalid phone number", "Please enter a valid phone number"],
        "url": ["Invalid URL", "Please enter a valid URL"]
      }
    },
    "page_indicators": {
      "description": "Elements that indicate current page and total pages",
      "pagination_dots": [
        ".pagination-dot",
        ".step-indicator",
        "[class*='page-indicator']",
        ".progress-dot"
      ],
      "progress_bars": [
        "[role='progressbar']",
        ".progress-bar",
        "[class*='progress' i]"
      ],
      "step_counters": [
        ".step-counter",
        "[class*='step' i][class*='counter' i]",
        ".page-counter"
      ]
    },
    "page_groups": {
      "description": "Typical field groupings by page in multi-page forms",
      "note": "These are flexible patterns, not strict requirements",
      "page_1_basic_info": {
        "description": "Basic contact information",
        "typical_fields": [
          "full_name",
          "email",
          "phone",
          "location"
        ]
      },
      "page_2_experience": {
        "description": "Experience and documents",
        "typical_fields": [
          "resume",
          "cover_letter",
          "years_experience",
          "linkedin_url",
          "website"
        ]
      },
      "page_3_screening": {
        "description": "Screening questions and additional info",
        "typical_fields": [
          "work_authorization",
          "salary_expectations",
          "start_date",
          "willingness_to_relocate",
          "screening_questions"
        ]
      },
      "page_4_review": {
        "description": "Review and confirmation page",
        "typical_fields": [
          "review_confirmation",
          "terms_agreement"
        ]
      }
    },
    "loading_indicators": {
      "description": "Elements that indicate page is loading after navigation",
      "selectors": [
        ".loading",
        ".spinner",
        "[class*='loading']",
        "[aria-busy='true']",
        ".page-transition"
      ]
    },
    "final_page_indicators": {
      "description": "Patterns that indicate we're on the final submission page",
      "url_patterns": [
        "**/review**",
        "**/submit**",
        "**/confirm**",
        "**/final**"
      ],
      "page_content_patterns": [
        "review.*application",
        "confirm.*details",
        "final.*step",
        "submit.*application",
        "ready.*to.*submit"
      ]
    },
    "real_selectors_from_test_data": {
      "description": "Actual selectors collected from Indeed application pages (2025-10-19)",
      "page_1_job_listing": {
        "apply_button": "#indeedApplyButton > div",
        "apply_button_text": ".jobsearch-IndeedApplyButton-newDesign"
      },
      "page_2_resume_selection": {
        "resume_options_button": "button[data-testid='ResumeOptionsMenu']",
        "upload_different_file": "button[data-testid='ResumeOptionsMenu-upload']",
        "hidden_file_input": "input[data-testid='resume-selection-file-resume-upload-button-file-input']",
        "dynamic_popup_id": "#\\:r3\\:",
        "note": "DO NOT make hidden input visible - triggers bot detection"
      },
      "page_3_screening_questions": {
        "cover_letter_upload": "button[data-testid*='upload-button']",
        "experience_dropdown": "select[name^='q_']",
        "radio_yes_no": "input[type='radio'][id^='single-select-question']",
        "text_area_portfolio": "textarea[id^='rich-text-question-input']",
        "continue_button": "#mosaic-provider-module-apply-questions button span:has-text('Continue')",
        "dynamic_ids_pattern": "Elements use React IDs with colons (:r4:, :r7:, :rc:)"
      }
    }
  },
  "notes": [
    "Multi-page support added in v1.1.0 (2025-10-17)",
    "Selectors are checked in order - first matching selector is used",
    "Form detection uses priority order - checks for Quick Apply first",
    "Page navigation waits for network idle and loading indicators to disappear",
    "Validation errors are detected using multiple strategies for robustness"
  ],
  "future_enhancements": [
    "AI-powered form field detection using GPT-4 Vision",
    "Dynamic selector learning from successful applications",
    "Support for custom screening questions (AI-generated answers)",
    "Support for additional platforms (Workday, custom ATS)"
  ]
}
